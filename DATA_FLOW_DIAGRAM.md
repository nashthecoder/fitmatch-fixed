# FitMatch Data Flow Diagram

## Data Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           FitMatch Data Architecture                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User Input    â”‚    â”‚  Partner Input  â”‚    â”‚  System Input   â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ Registration  â”‚    â”‚ â€¢ Registration  â”‚    â”‚ â€¢ Timestamps    â”‚
â”‚ â€¢ Profile Data  â”‚    â”‚ â€¢ Business Info â”‚    â”‚ â€¢ Calculations  â”‚
â”‚ â€¢ Posts/Content â”‚    â”‚ â€¢ Media Assets  â”‚    â”‚ â€¢ Aggregations  â”‚
â”‚ â€¢ Interactions  â”‚    â”‚ â€¢ Events/Ads    â”‚    â”‚ â€¢ Analytics     â”‚
â”‚ â€¢ Media Upload  â”‚    â”‚ â€¢ Contact Info  â”‚    â”‚ â€¢ Notifications â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                      â”‚                      â”‚
      â–¼                      â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            Authentication Layer                                 â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚  Firebase Auth  â”‚  â”‚  Email/Password â”‚  â”‚   Google Auth   â”‚                â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚                â”‚
â”‚  â”‚ â€¢ User Identity â”‚  â”‚ â€¢ Login/Signup  â”‚  â”‚ â€¢ OAuth Flow    â”‚                â”‚
â”‚  â”‚ â€¢ UID Generationâ”‚  â”‚ â€¢ Validation    â”‚  â”‚ â€¢ Profile Sync  â”‚                â”‚
â”‚  â”‚ â€¢ Token Mgmt    â”‚  â”‚ â€¢ Security      â”‚  â”‚ â€¢ Quick Access  â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Data Processing Layer                                 â”‚
â”‚                                                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚ â”‚  Data Helpers   â”‚  â”‚  Type Checking  â”‚  â”‚   Validation    â”‚                 â”‚
â”‚ â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚                 â”‚
â”‚ â”‚ â€¢ CRUD Ops      â”‚  â”‚ â€¢ TypeScript    â”‚  â”‚ â€¢ Input Rules   â”‚                 â”‚
â”‚ â”‚ â€¢ File Upload   â”‚  â”‚ â€¢ Interface     â”‚  â”‚ â€¢ Data Format   â”‚                 â”‚
â”‚ â”‚ â€¢ Error Handle  â”‚  â”‚ â€¢ Type Safety   â”‚  â”‚ â€¢ Constraints   â”‚                 â”‚
â”‚ â”‚ â€¢ Transformers  â”‚  â”‚ â€¢ Compile Check â”‚  â”‚ â€¢ Sanitization  â”‚                 â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             Storage Layer                                       â”‚
â”‚                                                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚ â”‚   Firestore     â”‚  â”‚ Firebase Storageâ”‚  â”‚  Redux Store    â”‚                 â”‚
â”‚ â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚                 â”‚
â”‚ â”‚ â€¢ users/        â”‚  â”‚ â€¢ images/       â”‚  â”‚ â€¢ auth          â”‚                 â”‚
â”‚ â”‚ â€¢ partenaires/  â”‚  â”‚ â€¢ videos/       â”‚  â”‚ â€¢ user          â”‚                 â”‚
â”‚ â”‚ â€¢ posts/        â”‚  â”‚ â€¢ documents/    â”‚  â”‚ â€¢ partner       â”‚                 â”‚
â”‚ â”‚ â€¢ chats/        â”‚  â”‚ â€¢ thumbnails/   â”‚  â”‚ â€¢ cache         â”‚                 â”‚
â”‚ â”‚ â€¢ events/       â”‚  â”‚ â€¢ assets/       â”‚  â”‚ â€¢ ui state      â”‚                 â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Attribution & Access                                    â”‚
â”‚                                                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚ â”‚ User Attributionâ”‚  â”‚ Content Mapping â”‚  â”‚ Access Control  â”‚                 â”‚
â”‚ â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚                 â”‚
â”‚ â”‚ â€¢ UID as Key    â”‚  â”‚ â€¢ Author Links  â”‚  â”‚ â€¢ Permissions   â”‚                 â”‚
â”‚ â”‚ â€¢ Profile Links â”‚  â”‚ â€¢ Relationships â”‚  â”‚ â€¢ Privacy Rules â”‚                 â”‚
â”‚ â”‚ â€¢ Activity Logs â”‚  â”‚ â€¢ References    â”‚  â”‚ â€¢ Data Security â”‚                 â”‚
â”‚ â”‚ â€¢ Ownership     â”‚  â”‚ â€¢ Dependencies  â”‚  â”‚ â€¢ User Roles    â”‚                 â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            Output Interfaces                                    â”‚
â”‚                                                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚ â”‚   Mobile App    â”‚  â”‚    Web Client   â”‚  â”‚   Admin Panel   â”‚                 â”‚
â”‚ â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚                 â”‚
â”‚ â”‚ â€¢ User Profiles â”‚  â”‚ â€¢ Partner Dash  â”‚  â”‚ â€¢ User Mgmt     â”‚                 â”‚
â”‚ â”‚ â€¢ Social Feed   â”‚  â”‚ â€¢ Analytics     â”‚  â”‚ â€¢ Content Mod   â”‚                 â”‚
â”‚ â”‚ â€¢ Messaging     â”‚  â”‚ â€¢ Content Mgmt  â”‚  â”‚ â€¢ System Stats  â”‚                 â”‚
â”‚ â”‚ â€¢ Matching      â”‚  â”‚ â€¢ Event Mgmt    â”‚  â”‚ â€¢ Reports       â”‚                 â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Entity Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Entity Relationship Diagram                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Firebase Auth â”‚
                    â”‚                 â”‚
                    â”‚ â€¢ uid (PK)      â”‚
                    â”‚ â€¢ email         â”‚
                    â”‚ â€¢ verified      â”‚
                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                          â”‚     â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â–¼                         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      Users      â”‚               â”‚    Partners     â”‚
    â”‚                 â”‚               â”‚                 â”‚
    â”‚ â€¢ uid (PK/FK)   â”‚               â”‚ â€¢ uid (PK/FK)   â”‚
    â”‚ â€¢ firstName     â”‚               â”‚ â€¢ name          â”‚
    â”‚ â€¢ lastName      â”‚               â”‚ â€¢ titre         â”‚
    â”‚ â€¢ profilePicUrl â”‚               â”‚ â€¢ description   â”‚
    â”‚ â€¢ bio           â”‚               â”‚ â€¢ logoURL       â”‚
    â”‚ â€¢ city          â”‚               â”‚ â€¢ category      â”‚
    â”‚ â€¢ sports[]      â”‚               â”‚ â€¢ images[]      â”‚
    â”‚ â€¢ personality   â”‚               â”‚ â€¢ videos[]      â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                 â”‚
          â”‚ Creates                         â”‚ Creates
          â–¼                                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      Posts      â”‚               â”‚   Ads/Events    â”‚
    â”‚                 â”‚               â”‚                 â”‚
    â”‚ â€¢ id (PK)       â”‚               â”‚ â€¢ id (PK)       â”‚
    â”‚ â€¢ authorId (FK) â”‚               â”‚ â€¢ partnerId(FK) â”‚
    â”‚ â€¢ content       â”‚               â”‚ â€¢ title         â”‚
    â”‚ â€¢ mediaUrls[]   â”‚               â”‚ â€¢ description   â”‚
    â”‚ â€¢ createdAt     â”‚               â”‚ â€¢ mediaUrls[]   â”‚
    â”‚ â€¢ likes[]       â”‚               â”‚ â€¢ eventDate     â”‚
    â”‚ â€¢ comments[]    â”‚               â”‚ â€¢ location      â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ Has Many
          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    Comments     â”‚
    â”‚                 â”‚
    â”‚ â€¢ id (PK)       â”‚
    â”‚ â€¢ postId (FK)   â”‚
    â”‚ â€¢ authorId (FK) â”‚
    â”‚ â€¢ text          â”‚
    â”‚ â€¢ createdAt     â”‚
    â”‚ â€¢ likes[]       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      Chats      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤    Messages     â”‚
    â”‚                 â”‚ Containsâ”‚                 â”‚
    â”‚ â€¢ id (PK)       â”‚         â”‚ â€¢ id (PK)       â”‚
    â”‚ â€¢ participants[]â”‚         â”‚ â€¢ chatId (FK)   â”‚
    â”‚ â€¢ lastMessage   â”‚         â”‚ â€¢ senderId (FK) â”‚
    â”‚ â€¢ createdAt     â”‚         â”‚ â€¢ text          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â€¢ createdAt     â”‚
                                â”‚ â€¢ read          â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Patterns

### 1. User Registration Flow
```
User Input â†’ Firebase Auth â†’ User Document Creation â†’ Redux State Update
     â†“              â†“                    â†“                     â†“
 Form Data    Generate UID      users/{uid} doc        currentUser set
 Validation   Email Verify      Profile Data          UI Navigation
```

### 2. Content Creation Flow
```
User Creates Post â†’ Media Upload â†’ Document Creation â†’ Real-time Updates
       â†“                â†“               â†“                    â†“
   Text + Media    Firebase Storage   posts/{id} doc    Live Feed Update
   Validation      Get Download URLs   Attribution       Social Interactions
```

### 3. Data Retrieval Flow
```
Component Mount â†’ Check Redux Cache â†’ Firestore Query â†’ State Update
      â†“                   â†“                â†“               â†“
 useEffect Hook    Cache Hit/Miss     Get Documents    Component Render
 Loading State     Return Cached      Transform Data   User Interface
```

### 4. Attribution Chain
```
Firebase Auth UID â†’ Document Key â†’ Content Attribution â†’ User Association
       â†“                â†“               â†“                    â†“
   Unique Identity   Database Key    Author Reference    Profile Link
   Token Validation  Document Path   Ownership Proof     Permission Check
```

## Current Issues in Data Flow

### ğŸ”´ Critical Issues
1. **Type Safety Gaps**: TypeScript errors causing runtime failures
2. **Null Reference Errors**: Unsafe user data access patterns
3. **Inconsistent Attribution**: Mixed attribution patterns across entities

### ğŸŸ¡ Performance Issues
1. **N+1 Query Problems**: Individual queries for related data
2. **Over-fetching**: Loading unnecessary data fields
3. **Cache Misses**: Poor cache utilization strategy

### ğŸŸ¢ Optimization Opportunities
1. **Batch Operations**: Group related Firestore operations
2. **Data Normalization**: Reduce duplication and improve consistency
3. **Real-time Optimization**: Efficient listener management

## Recommended Data Flow Improvements

### Phase 1: Stabilization
```
Current: Component â†’ Direct Firebase â†’ Unsafe Access
Target:  Component â†’ Data Service â†’ Type-Safe Access
```

### Phase 2: Optimization  
```
Current: Multiple Queries â†’ Individual Results â†’ Separate Processing
Target:  Batch Queries â†’ Aggregated Results â†’ Optimized Processing
```

### Phase 3: Enhancement
```
Current: Manual Cache â†’ Inconsistent State â†’ Manual Sync
Target:  Auto Cache â†’ Consistent State â†’ Auto Sync
```

This data flow analysis reveals the current architecture's strengths in using Firebase and Redux, while highlighting critical areas for improvement in type safety, performance, and data consistency.